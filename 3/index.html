<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js"></script>
</head>

<body>
    <canvas id="i_canvas_1" width="1400px" height="1000px">
        <p>sorry, your broswer do not support canvas</p>
    </canvas>

    <script type="text/javascript">
    /**
     * [changeCanvasSize description]
     * @return {[type]} [description]
     */
    function changeCanvasSize() {
        $("#i_canvas_1").attr("width", $(window).get(0).innerWidth);
        $("#i_canvas_1").attr("height", $(window).get(0).innerHeight);
    }
    changeCanvasSize();
    //加载页面时初始化canvas高度和宽度
    $(window).resize(function() {
        //changeCanvasSize();
    });
    </script>
    <!-- 画布绘制-->
    <script type="text/javascript">
    var _default = {
        x_position_1: 50,
        y_position_1: 50,
        x_position_2: 100,
        y_position_2: 100,
        block_offset: 160,
        square_width: 100,
        square_height: 100
    };
    var canvas_1 = $("#i_canvas_1").get(0);
    var cxt = canvas_1.getContext("2d");
    /* 绘制开始*/

    /**
     * 区域1
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1, _default.y_position_1, _default.square_width, _default.square_height);
    //后面的绘制覆盖掉原来的绘制 source-over
    cxt.globalCompositeOperation = "source-over";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2, _default.y_position_2, _default.square_width, _default.square_height);

    /**
     * 区域2
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 1, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //后面的绘制在前面的下方 destination-over
    cxt.globalCompositeOperation = "destination-over";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 1, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);

    /**
     * 区域3
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 2, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //保留重叠区域和目标(先前的绘制)
    cxt.globalCompositeOperation = "source-atop";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 2, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);
    
    /**
     * 区域4
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 3, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //保留重叠区域和源(随后的绘制) 在浏览器中显示有问题
    //cxt.globalCompositeOperation = "destination-atop";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 3, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);
    
    /**
     * 区域5
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 4, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //重叠的部分只显示源，不重叠的部分透明 在浏览器中显示有问题
    //cxt.globalCompositeOperation = "source-in";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 4, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);
    
    /**
     * 区域6
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 5, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //重叠的部分只显示源，不重叠的部分透明 在浏览器中显示有问题
    //cxt.globalCompositeOperation = "destination-in";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 5, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);
    
    /**
     * 区域7
     * @type {String}
     */
    cxt.fillStyle = "rgb(63,169,245)";
    cxt.fillRect(_default.x_position_1 + _default.block_offset * 6, _default.y_position_1, _default.square_width, _default.square_height);
    //cxt.fillRect(210, 50, 100, 100);
    //重叠的部分只显示源，不重叠的部分透明 在浏览器中显示有问题
    //cxt.globalCompositeOperation = "copy";
    cxt.globalCompositeOperation = "xor";
    cxt.fillStyle = "rgb(255,124,172)";
    cxt.fillRect(_default.x_position_2 + _default.block_offset * 6, _default.y_position_2, _default.square_width, _default.square_height);
    //cxt.fillRect(260, 100, 100, 100);
    
    </script>
</body>

</html>
